<?xml version="1.0" encoding="UTF-8"?>
<!--
    JSF - page for managing a shop.
    Backed up by the Shop backing bean.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" >
    <h:head>
        <title>Manage Shop</title>
    </h:head>
    <h:body>
        <ui:composition template="../resources/templates/template.xhtml">
            <ui:define name="content">
                <h:form id="shop-form">
                    <h:dataTable var="s" value="#{shops.all}">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Id"/>
                                </f:facet>
                                <h:outputText value="#{s.id}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Name"/>
                                </f:facet>
                                <h:outputText value="#{s.name}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Location"/>
                                </f:facet>
                                <h:outputText value="#{s.location}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Action"/>
                                </f:facet>
                                <h:commandButton actionListener="#{products.setSelected(s.id)}" 
                                                   action="#{shops.shop(s.id, authenticate.name)}"
                                                   
                                                   value="Manage" />
                            </h:column>
                        </h:dataTable>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
